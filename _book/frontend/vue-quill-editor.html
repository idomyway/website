
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>VueQuillEditor · jekorx's blog</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="jekorx">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../index/git.html" />
    
    
    <link rel="prev" href="eslint.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    前言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../index/nodejs.html">
            
                <a href="../index/nodejs.html">
            
                    
                    Node.js
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../nodejs/process-manager.html">
            
                <a href="../nodejs/process-manager.html">
            
                    
                    PM2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../nodejs/http-server.html">
            
                <a href="../nodejs/http-server.html">
            
                    
                    Http-Server
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../index/frontend.html">
            
                <a href="../index/frontend.html">
            
                    
                    前端
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="axios.html">
            
                <a href="axios.html">
            
                    
                    Axios
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="editorconfig.html">
            
                <a href="editorconfig.html">
            
                    
                    EditorConfig
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="eslint.html">
            
                <a href="eslint.html">
            
                    
                    ESLint
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.4" data-path="vue-quill-editor.html">
            
                <a href="vue-quill-editor.html">
            
                    
                    VueQuillEditor
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../index/git.html">
            
                <a href="../index/git.html">
            
                    
                    Git
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../git/git.html">
            
                <a href="../git/git.html">
            
                    
                    Git
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../index/linux.html">
            
                <a href="../index/linux.html">
            
                    
                    Linux
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../linux/jdk.html">
            
                <a href="../linux/jdk.html">
            
                    
                    JDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../linux/mysql.html">
            
                <a href="../linux/mysql.html">
            
                    
                    MySQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../linux/mount.html">
            
                <a href="../linux/mount.html">
            
                    
                    挂载硬盘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../linux/nginx.html">
            
                <a href="../linux/nginx.html">
            
                    
                    Nginx
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../index/jenkins.html">
            
                <a href="../index/jenkins.html">
            
                    
                    Jenkins
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../jenkins/install.html">
            
                <a href="../jenkins/install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../index/springboot.html">
            
                <a href="../index/springboot.html">
            
                    
                    SpringBoot
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../springboot/put-config.html">
            
                <a href="../springboot/put-config.html">
            
                    
                    Put请求配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../springboot/fastjson-config.html">
            
                <a href="../springboot/fastjson-config.html">
            
                    
                    FastJson配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../springboot/cors-config.html">
            
                <a href="../springboot/cors-config.html">
            
                    
                    跨域配置
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >VueQuillEditor</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="vue-quill-editor&#xFF08;&#x81EA;&#x5B9A;&#x4E49;&#x4F7F;&#x7528;&#xFF09;">Vue-Quill-Editor&#xFF08;&#x81EA;&#x5B9A;&#x4E49;&#x4F7F;&#x7528;&#xFF09;</h1>
<blockquote>
<p>&#x57FA;&#x4E8E;Vue&#x7684;Quill&#x5BCC;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x5668;&#x81EA;&#x5B9A;&#x4E49;toolbar
1&#x3001;&#x56FE;&#x7247;&#x62D6;&#x62FD;&#x4E0A;&#x4F20;&#x670D;&#x52A1;&#x5668;&#x540E;&#xFF0C;&#x5728;&#x6587;&#x672C;&#x533A;&#x57DF;&#x5185;&#x6DFB;&#x52A0;&#x56FE;&#x7247;
2&#x3001;&#x56FE;&#x7247;&#x5F39;&#x7A97;&#x4E0A;&#x4F20;&#x9009;&#x62E9;&#xFF0C;&#x5728;&#x6587;&#x672C;&#x533A;&#x57DF;&#x5185;&#x6DFB;&#x52A0;&#x56FE;&#x7247;
3&#x3001;&#x5C06;&#x6837;&#x5F0F;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;class&#x7684;&#x66FF;&#x6362;&#x4E3A;&#x5185;&#x8054;&#x6837;&#x5F0F;</p>
</blockquote>
<pre><code class="lang-pug">&lt;template lang=&quot;pug&quot;&gt;
  div
    quillEditor(
      ref=&quot;editorRef&quot;
      v-model=&quot;content&quot;
      :options=&quot;editorOption&quot;
      @change=&quot;onContentChange&quot;)
      div(:id=&quot;[toolbar]&quot; slot=&quot;toolbar&quot;)
        span.ql-formats
          button.ql-bold(type=&quot;button&quot;)
        span.ql-formats
          button.ql-italic(type=&quot;button&quot;)
        span.ql-formats
          button.ql-underline(type=&quot;button&quot;)
        span.ql-formats
          button.ql-strike(type=&quot;button&quot;)
        span.ql-formats
          button.ql-blockquote(type=&quot;button&quot;)
        span.ql-formats
          button.ql-code-block(type=&quot;button&quot;)
        span.ql-formats
          button.ql-header(value=&quot;1&quot; type=&quot;button&quot;)
        span.ql-formats
          button.ql-header(value=&quot;2&quot; type=&quot;button&quot;)
        span.ql-formats
          button.ql-list(value=&quot;ordered&quot; type=&quot;button&quot;)
        span.ql-formats
          button.ql-list(value=&quot;bullet&quot; type=&quot;button&quot;)
        span.ql-formats
          button.ql-script(value=&quot;sub&quot; type=&quot;button&quot;)
        span.ql-formats
          button.ql-script(value=&quot;super&quot; type=&quot;button&quot;)
        //- &#x7F29;&#x8FDB;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x5185;&#x8054;&#x6837;&#x5F0F;&#x4EE3;&#x66FF;class&#x6837;&#x5F0F;
        //span.ql-formats
          button.ql-indent(value=&quot;-1&quot; type=&quot;button&quot;)
        //span.ql-formats
          button.ql-indent(value=&quot;+1&quot; type=&quot;button&quot;)
        //span.ql-formats
          button.ql-direction(value=&quot;rtl&quot; type=&quot;button&quot;)
        span.ql-formats
          //- &#x9ED8;&#x8BA4;&#x5B57;&#x4F53;&#x5927;&#x5C0F;
          //select.ql-size
            option(value=&quot;small&quot;)
            option(selected)
            option(value=&quot;large&quot;)
            option(value=&quot;huge&quot;)
          //- &#x81EA;&#x5B9A;&#x4E49;&#x5B57;&#x4F53;&#x5927;&#x5C0F;&#xFF0C;&#x9700;&#x5BF9;&#x5E94;&#x4FEE;&#x6539;js&#x4E2D;SizeStyle.whitelist&#xFF0C;&#x4EE5;&#x53CA;&#x76F8;&#x5173;&#x6837;&#x5F0F;
          select.ql-size
            option(value=&quot;12px&quot;) 12px
            option(selected) 14px
            option(value=&quot;16px&quot;) 16px
            option(value=&quot;18px&quot;) 18px
            option(value=&quot;20px&quot;) 20px
            option(value=&quot;22px&quot;) 22px
            option(value=&quot;24px&quot;) 24px
            option(value=&quot;26px&quot;) 26px
            option(value=&quot;28px&quot;) 28px
            option(value=&quot;30px&quot;) 30px
            option(value=&quot;32px&quot;) 32px
        span.ql-formats
          select.ql-header
            option(value=&quot;1&quot;)
            option(value=&quot;2&quot;)
            option(value=&quot;3&quot;)
            option(value=&quot;4&quot;)
            option(value=&quot;5&quot;)
            option(value=&quot;6&quot;)
            option(selected=&quot;selected&quot;)
        span.ql-formats
          select.ql-color
            option(selected=&quot;selected&quot;)
            option(value=&quot;#e60000&quot;)
            option(value=&quot;#ff9900&quot;)
            option(value=&quot;#ffff00&quot;)
            option(value=&quot;#008a00&quot;)
            option(value=&quot;#0066cc&quot;)
            option(value=&quot;#9933ff&quot;)
            option(value=&quot;#ffffff&quot;)
            option(value=&quot;#facccc&quot;)
            option(value=&quot;#ffebcc&quot;)
            option(value=&quot;#ffffcc&quot;)
            option(value=&quot;#cce8cc&quot;)
            option(value=&quot;#cce0f5&quot;)
            option(value=&quot;#ebd6ff&quot;)
            option(value=&quot;#bbbbbb&quot;)
            option(value=&quot;#f06666&quot;)
            option(value=&quot;#ffc266&quot;)
            option(value=&quot;#ffff66&quot;)
            option(value=&quot;#66b966&quot;)
            option(value=&quot;#66a3e0&quot;)
            option(value=&quot;#c285ff&quot;)
            option(value=&quot;#888888&quot;)
            option(value=&quot;#a10000&quot;)
            option(value=&quot;#b26b00&quot;)
            option(value=&quot;#b2b200&quot;)
            option(value=&quot;#006100&quot;)
            option(value=&quot;#0047b2&quot;)
            option(value=&quot;#6b24b2&quot;)
            option(value=&quot;#444444&quot;)
            option(value=&quot;#5c0000&quot;)
            option(value=&quot;#663d00&quot;)
            option(value=&quot;#666600&quot;)
            option(value=&quot;#003700&quot;)
            option(value=&quot;#002966&quot;)
            option(value=&quot;#3d1466&quot;)
        span.ql-formats
          select.ql-background
            option(value=&quot;#000000&quot;)
            option(value=&quot;#e60000&quot;)
            option(value=&quot;#ff9900&quot;)
            option(value=&quot;#ffff00&quot;)
            option(value=&quot;#008a00&quot;)
            option(value=&quot;#0066cc&quot;)
            option(value=&quot;#9933ff&quot;)
            option(selected=&quot;selected&quot;)
            option(value=&quot;#facccc&quot;)
            option(value=&quot;#ffebcc&quot;)
            option(value=&quot;#ffffcc&quot;)
            option(value=&quot;#cce8cc&quot;)
            option(value=&quot;#cce0f5&quot;)
            option(value=&quot;#ebd6ff&quot;)
            option(value=&quot;#bbbbbb&quot;)
            option(value=&quot;#f06666&quot;)
            option(value=&quot;#ffc266&quot;)
            option(value=&quot;#ffff66&quot;)
            option(value=&quot;#66b966&quot;)
            option(value=&quot;#66a3e0&quot;)
            option(value=&quot;#c285ff&quot;)
            option(value=&quot;#888888&quot;)
            option(value=&quot;#a10000&quot;)
            option(value=&quot;#b26b00&quot;)
            option(value=&quot;#b2b200&quot;)
            option(value=&quot;#006100&quot;)
            option(value=&quot;#0047b2&quot;)
            option(value=&quot;#6b24b2&quot;)
            option(value=&quot;#444444&quot;)
            option(value=&quot;#5c0000&quot;)
            option(value=&quot;#663d00&quot;)
            option(value=&quot;#666600&quot;)
            option(value=&quot;#003700&quot;)
            option(value=&quot;#002966&quot;)
            option(value=&quot;#3d1466&quot;)
        span.ql-formats
          //- &#x9ED8;&#x8BA4;&#x5B57;&#x4F53;
          //select.ql-font
            option(selected=&quot;selected&quot;)
            option(value=&quot;serif&quot;)
            option(value=&quot;monospace&quot;)
          //- &#x81EA;&#x5B9A;&#x4E49;&#x5B57;&#x4F53;&#xFF0C;&#x9700;&#x5BF9;&#x5E94;&#x4FEE;&#x6539;js&#x4E2D;FontStyle.whitelist&#xFF0C;&#x4EE5;&#x53CA;&#x76F8;&#x5173;&#x6837;&#x5F0F;
          select.ql-font
            option(selected=&quot;selected&quot;)
            option(value=&quot;&#x5B8B;&#x4F53;&quot;) &#x5B8B;&#x4F53;
            option(value=&quot;&#x9ED1;&#x4F53;&quot;) &#x9ED1;&#x4F53;
            option(value=&quot;&#x6977;&#x4F53;&quot;) &#x6977;&#x4F53;
            option(value=&quot;&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;&quot;) &#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;
            option(value=&quot;Arial&quot;) Arial
            option(value=&quot;Verdana&quot;) Verdana
            option(value=&quot;Georgia&quot;) Georgia
            option(value=&quot;Times New Roman&quot;) Times New Roman
            option(value=&quot;Microsoft JhengHei&quot;) Microsoft JhengHei
            option(value=&quot;Trebuchet MS&quot;) Trebuchet MS
            option(value=&quot;Courier New&quot;) Courier New
            option(value=&quot;Impact&quot;) Impact
            option(value=&quot;Comic Sans MS&quot;) Comic Sans MS
            option(value=&quot;Consolas&quot;) Consolas
        span.ql-formats
          select.ql-align
            option(selected=&quot;selected&quot;)
            option(value=&quot;center&quot;)
            option(value=&quot;right&quot;)
            option(value=&quot;justify&quot;)
        span.ql-formats
          button.ql-clean(type=&quot;button&quot;)
        span.ql-formats
          button.ql-link(type=&quot;button&quot;)
        span.ql-formats
          //- &#x81EA;&#x5B9A;&#x4E49;&#x56FE;&#x7247;&#x9009;&#x62E9;&#x5668;
          button(type=&quot;button&quot; @click=&quot;imgModal = true&quot;)
            svg(viewBox=&quot;0 0 18 18&quot;)
              rect.ql-stroke(height=&quot;10&quot; width=&quot;12&quot; x=&quot;3&quot; y=&quot;4&quot;)
              circle.ql-fill(cx=&quot;6&quot; cy=&quot;7&quot; r=&quot;1&quot;)
              polyline.ql-even.ql-fill(points=&quot;5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12&quot;)
        span.ql-formats
          button.ql-video(type=&quot;button&quot;)
    //- &#x4F7F;&#x7528;iview modal
    Modal(
      v-model=&quot;imgModal&quot;
      title=&quot;&#x9009;&#x62E9;&#x56FE;&#x7247;&quot;
      :mask-closable=&quot;false&quot;)
      div
        div(style=&quot;text-align: center&quot;)
          input(
            ref=&quot;imgFileRef&quot;
            type=&quot;file&quot;
            style=&quot;display: none !important&quot;
            :accept=&quot;accept&quot;
            @change=&quot;fileChange&quot;)
          div(
            ref=&quot;imgRef&quot;
            :style=&quot;`display: inline-block; width: 300px; height: 180px; border: 2px dashed; position: relative; border-color: ${ isDropImgOver ? &apos;#666&apos; : &apos;#CCC&apos; }`&quot;
            @click=&quot;$refs.imgFileRef.click()&quot;)
            Progress(
              v-if=&quot;percent &gt; 0 &amp;&amp; percent &lt; 100&quot;
              style=&quot;position: absolute; top: 75px&quot;
              :percent=&quot;percent&quot;
              hide-info)
            img(
              v-if=&quot;imgUrl&quot;
              style=&quot;width: 100%; height: 100%&quot;
              :src=&quot;imgUrl&quot;)
            img(
              v-else
              style=&quot;width: 100%; height: 100%&quot;
              src=&quot;@images/img.png&quot;)
          p(style=&quot;padding: 6px 0; color: #777&quot;) &#x70B9;&#x51FB;&#x6216;&#x62D6;&#x62FD;&#x56FE;&#x7247;&#x5230;&#x4E0A;&#x65B9;&#x533A;&#x57DF;&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#xFF0C;&#x6216;&#x8005;&#x5728;&#x4E0B;&#x65B9;&#x8F93;&#x5165;&#x56FE;&#x7247;&#x94FE;&#x63A5;&#x4E0A;&#x4F20;&#x56FE;&#x7247;
        div
          Input(
            v-model=&quot;netImgUrl&quot;
            style=&quot;width: 80%&quot;
            placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x56FE;&#x7247;&#x94FE;&#x63A5;&#x83B7;&#x53D6;&#x7F51;&#x7EDC;&#x56FE;&#x7247;&quot;)
          Button(
            type=&quot;info&quot;
            icon=&quot;earth&quot;
            @click=&quot;imgUrl = netImgUrl&quot;
            style=&quot;float: right&quot;
            :disabled=&quot;!netImgUrl&quot;) &#x7F51;&#x7EDC;&#x83B7;&#x53D6;
      div(slot=&quot;footer&quot;)
        Button(type=&quot;primary&quot; @click=&quot;insertImg&quot;) &#x786E;&#x8BA4;
        Button(@click=&quot;imgModal = false&quot;) &#x53D6;&#x6D88;
&lt;/template&gt;
&lt;script&gt;
import &apos;quill/dist/quill.core.css&apos;
import &apos;quill/dist/quill.snow.css&apos;
import &apos;quill/dist/quill.bubble.css&apos;
import _Quill from &apos;quill&apos;
import { quillEditor } from &apos;vue-quill-editor&apos;

// &#x9ED8;&#x8BA4;&#x56FE;&#x7247;&#x7C7B;&#x578B;
const allowType = {
  &apos;.png&apos;: &apos;image/png&apos;,
  &apos;.jpg&apos;: &apos;image/jpeg&apos;/* ,
  &apos;.jpeg&apos;: &apos;image/jpeg&apos;,
  &apos;.bmp&apos;: &apos;image/bmp&apos;,
  &apos;.gif&apos;: &apos;image/gif&apos;,
  &apos;.svg&apos;: &apos;image/svg+xml&apos;,
  &apos;.tif&apos;: &apos;image/tiff&apos; */
}

/**
 * &#x5BF9;Quill&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x4FEE;&#x6539;
 */
const Quill = window.Quill || _Quill
// &#x5C06;&#x6837;&#x5F0F;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;class&#x7684;&#x66FF;&#x6362;&#x4E3A;&#x5185;&#x8054;&#x6837;&#x5F0F;
let SizeStyle = Quill.import(&apos;attributors/style/size&apos;)
let FontStyle = Quill.import(&apos;attributors/style/font&apos;)
let AlignStyle = Quill.import(&apos;attributors/style/align&apos;)
// &#x81EA;&#x5B9A;&#x4E49;&#x5B57;&#x4F53;&#x5927;&#x5C0F;&#x5C3A;&#x5BF8;&#xFF0C;&#x9700;&#x5BF9;&#x5E94;&#x4FEE;&#x6539;html&#x4E2D;&#x4E0B;&#x62C9;&#x6846;&#xFF0C;&#x4EE5;&#x53CA;&#x76F8;&#x5173;&#x6837;&#x5F0F;
SizeStyle.whitelist = [&apos;12px&apos;, &apos;16px&apos;, &apos;18px&apos;, &apos;20px&apos;, &apos;22px&apos;, &apos;24px&apos;, &apos;26px&apos;, &apos;28px&apos;, &apos;30px&apos;, &apos;32px&apos;]
// &#x81EA;&#x5B9A;&#x4E49;&#x5B57;&#x4F53;&#x7C7B;&#x578B;&#xFF0C;&#x9700;&#x5BF9;&#x5E94;&#x4FEE;&#x6539;html&#x4E2D;&#x4E0B;&#x62C9;&#x6846;&#xFF0C;&#x4EE5;&#x53CA;&#x76F8;&#x5173;&#x6837;&#x5F0F;
FontStyle.whitelist = [&apos;&#x5B8B;&#x4F53;&apos;, &apos;&#x9ED1;&#x4F53;&apos;, &apos;&#x6977;&#x4F53;&apos;, &apos;&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;&apos;, &apos;Arial&apos;, &apos;Verdana&apos;, &apos;Georgia&apos;, &apos;Times New Roman&apos;, &apos;Microsoft JhengHei&apos;, &apos;Trebuchet MS&apos;, &apos;Courier New&apos;, &apos;Impact&apos;, &apos;Comic Sans MS&apos;, &apos;Consolas&apos;]
Quill.register(SizeStyle, true)
Quill.register(FontStyle, true)
Quill.register(AlignStyle, true)

export default {
  name: &apos;Editor&apos;,
  components: { quillEditor },
  props: { value: String, placeholder: String },
  data () {
    return {
      content: this.value,
      toolbar: &apos;&apos;,
      imgModal: false,
      imgUrl: &apos;&apos;,
      netImgUrl: &apos;&apos;,
      isDropImgOver: false
    }
  },
  computed: {
    editor () { return this.$refs.editorRef.quill },
    accept () { return Object.keys(allowType).join(&apos;,&apos;) },
    editorOption () {
      // &#x89E3;&#x51B3;&#x540C;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x4E2D;&#x51FA;&#x73B0;&#x591A;&#x4E2A;&#x5BCC;&#x6587;&#x672C;id&#x51B2;&#x7A81;&#x7684;&#x95EE;&#x9898;
      let id = &apos;toolbar-&apos; + Math.random().toString(16).substring(2)
      this.toolbar = id // eslint-disable-line
      return {
        placeholder: this.placeholder,
        modules: {
          toolbar: &apos;#&apos; + id
        }
      }
    }
  },
  watch: {
    value (val) {
      if (this.editor &amp;&amp; val !== this.content) this.content = val
    },
    modal (val) {
      if (!val) {
        this.imgUrl = &apos;&apos;
        this.netImgUrl = &apos;&apos;
      }
    }
  },
  mounted () {
    this.$nextTick(() =&gt; {
      /**
       * &#x62D6;&#x62FD;&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x5E76;&#x63D2;&#x5165;&#x5BCC;&#x6587;&#x672C;
       */
      // &#x83B7;&#x53D6;quillEditor&#x4E2D;&#x7684;editor
      let editor = this.$refs.editorRef.$refs.editor
      editor.ondragenter = e =&gt; this.dropInsertHandler(e)
      editor.ondragover = e =&gt; this.dropInsertHandler(e)
      editor.ondragleave = e =&gt; this.dropInsertHandler(e)
      editor.ondrop = e =&gt; {
        const files = e.dataTransfer.files
        if (files &amp;&amp; files.length &gt; 0) {
          this.fileUpload(files[0], this.insertImg)
        }
        this.dropInsertHandler(e, false)
      }
    })
  },
  methods: {
    fileUpload (file, callback) {
      // &#x5224;&#x65AD;&#x683C;&#x5F0F;
      // &#x5224;&#x65AD;&#x5927;&#x5C0F;
      // ...

      // &#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x5E76;&#x8FD4;&#x56DE;&#x56FE;&#x7247;&#x8BBF;&#x95EE;url
      // this.imgUrl = imgUrl
      // callback &amp;&amp; callback()
    },
    insertImg () {
      if (this.imgUrl) {
        this.editor.focus()
        this.editor.insertEmbed(this.editor.getSelection().index, &apos;image&apos;, this.imgUrl)
        this.modal = false
      } else alert(&apos;&#x6CA1;&#x6709;&#x53EF;&#x7528;&#x7684;&#x56FE;&#x7247;&#xFF01;&apos;)
    },
    onContentChange () {
      this.$emit(&apos;input&apos;, this.content)
    },
    fileChange ({ target: { files } }) {
      if (files &amp;&amp; files.length &gt; 0) {
        this.fileUpload(files[0])
      }
    },
    dropInsertHandler (e) {
      e.preventDefault() // &#x963B;&#x6B62;&#x79BB;&#x5F00;&#x65F6;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;
      e.stopPropagation() // &#x963B;&#x6B62;&#x5192;&#x6CE1;
    }
  }
}
&lt;/script&gt;
&lt;style lang=&quot;stylus&quot;&gt;
.ql-container
  font-size 14px
.ql-snow
  .ql-picker
    &amp;.ql-size
      .ql-picker-item
        &amp;[data-value=&quot;12px&quot;]::before
          font-size 12px
        &amp;[data-value=&quot;16px&quot;]::before
          font-size 16px
        &amp;[data-value=&quot;18px&quot;]::before
          font-size 18px
        &amp;[data-value=&quot;20px&quot;]::before
          font-size 20px
        &amp;[data-value=&quot;22px&quot;]::before
          font-size 22px
        &amp;[data-value=&quot;24px&quot;]::before
          font-size 24px
        &amp;[data-value=&quot;26px&quot;]::before
          font-size 26px
        &amp;[data-value=&quot;28px&quot;]::before
          font-size 28px
        &amp;[data-value=&quot;30px&quot;]::before
          font-size 30px
        &amp;[data-value=&quot;32px&quot;]::before
          font-size 32px
    &amp;.ql-font
      .ql-picker-item
        &amp;[data-value=&quot;&#x5B8B;&#x4F53;&quot;]::before
          font-family &apos;&#x5B8B;&#x4F53;&apos;
        &amp;[data-value=&quot;&#x9ED1;&#x4F53;&quot;]::before
          font-family &apos;&#x9ED1;&#x4F53;&apos;
        &amp;[data-value=&quot;&#x6977;&#x4F53;&quot;]::before
          font-family &apos;&#x6977;&#x4F53;&apos;
        &amp;[data-value=&quot;&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;&quot;]::before
          font-family &apos;&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;&apos;
        &amp;[data-value=&quot;Arial&quot;]::before
          font-family &apos;Arial&apos;
        &amp;[data-value=&quot;Verdana&quot;]::before
          font-family &apos;Verdana&apos;
        &amp;[data-value=&quot;Georgia&quot;]::before
          font-family &apos;Georgia&apos;
        &amp;[data-value=&quot;Times New Roman&quot;]::before
          font-family &apos;Times New Roman&apos;
        &amp;[data-value=&quot;Microsoft JhengHei&quot;]::before
          font-family &apos;Microsoft JhengHei&apos;
        &amp;[data-value=&quot;Trebuchet MS&quot;]::before
          font-family &apos;Trebuchet MS&apos;
        &amp;[data-value=&quot;Courier New&quot;]::before
          font-family &apos;Courier New&apos;
        &amp;[data-value=&quot;Impact&quot;]::before
          font-family &apos;Impact&apos;
        &amp;[data-value=&quot;Comic Sans MS&quot;]::before
          font-family &apos;Comic Sans MS&apos;
        &amp;[data-value=&quot;Consolas&quot;]::before
          font-family &apos;Consolas&apos;
&lt;/style&gt;
</code></pre>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; blog.wdg.pub 2019 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x8BE5;&#x6587;&#x4EF6;&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2019-02-23 14:29:36
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="eslint.html" class="navigation navigation-prev " aria-label="Previous page: ESLint">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../index/git.html" class="navigation navigation-next " aria-label="Next page: Git">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"VueQuillEditor","level":"1.3.4","depth":2,"next":{"title":"Git","level":"1.4","depth":1,"path":"index/git.md","ref":"index/git.md","articles":[{"title":"Git","level":"1.4.1","depth":2,"path":"git/git.md","ref":"git/git.md","articles":[]}]},"previous":{"title":"ESLint","level":"1.3.3","depth":2,"path":"frontend/eslint.md","ref":"frontend/eslint.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","-sharing","github","search-pro","sharing-plus","tbfed-pagefooter","back-to-top-button","expandable-chapters-small"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright © blog.wdg.pub 2019","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"github":{"url":"https://github.com/jekorx"},"search-pro":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"back-to-top-button":{},"expandable-chapters-small":{},"sharing":{"qq":false,"all":["douban","facebook","google","linkedin","qq","qzone","twitter","weibo","whatsapp"],"douban":false,"facebook":false,"weibo":false,"whatsapp":false,"twitter":false,"google":false,"qzone":false,"linkedin":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"jekorx","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"jekorx's blog","language":"zh-hans","gitbook":"*","description":"个人学习、工作经验的总结"},"file":{"path":"frontend/vue-quill-editor.md","mtime":"2019-02-23T06:29:36.353Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-02-23T06:30:22.220Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

